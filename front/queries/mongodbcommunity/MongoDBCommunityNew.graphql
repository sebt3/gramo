
mutation MongodbcommunityMongoDBCommunity($namespace: String!, $name: String!, $spec: mongodbcommunityMongoDBCommunitySpec!) {
  createMongodbcommunityMongoDBCommunity(namespace: $namespace, name: $name, spec: $spec) {
    metadata {
      annotations {
        name
        value
      }
      labels {
        name
        value
      }
      name
      namespace
    }
    arbiters
    featureCompatibilityVersion
    members
    replicaSetHorizons
    statefulSet
    type
    version
    additionalMongodConfig
    automationConfig {
      processes {
        disabled
        name
      }
    }
    prometheus {
      metricsPath
      passwordSecretRef {
        key
        name
      }
      port
      tlsSecretKeyRef {
        key
        name
      }
      username
    }
    security {
      authentication {
        ignoreUnknownUsers
        modes
      }
      roles {
        authenticationRestrictions {
          clientSource
          serverAddress
        }
        db
        privileges {
          actions
          resource {
            anyResource
            cluster
            collection
            db
          }
        }
        role
        roles {
          db
          name
        }
      }
      tls {
        caCertificateSecretRef {
          name
        }
        caConfigMapRef {
          name
        }
        certificateKeySecretRef {
          name
        }
        enabled
        optional
      }
    }
    users {
      connectionStringSecretName
      db
      name
      passwordSecretRef {
        key
        name
      }
      roles {
        db
        name
      }
      scramCredentialsSecretName
    }
    status {
      currentMongoDBArbiters
      currentMongoDBMembers
      currentStatefulSetArbitersReplicas
      currentStatefulSetReplicas
      message
      mongoUri
      phase
      version
    }
  }
}
