
mutation FluxcdHelmRelease($namespace: String!, $name: String!, $spec: fluxcdHelmReleaseSpec!) {
  patchFluxcdHelmRelease(namespace: $namespace, name: $name, spec: $spec) {
    metadata {
      annotations {
        name
        value
      }
      labels {
        name
        value
      }
      name
      namespace
      obj
    }
    chart {
      spec {
        chart
        interval
        reconcileStrategy
        sourceRef {
          apiVersion
          kind
          name
          namespace
        }
        valuesFile
        valuesFiles
        verify {
          provider
          secretRef {
            name
          }
        }
        version
      }
    }
    dependsOn {
      name
      namespace
    }
    install {
      crds
      createNamespace
      disableHooks
      disableOpenAPIValidation
      disableWait
      disableWaitForJobs
      remediation {
        ignoreTestFailures
        remediateLastFailure
        retries
      }
      replace
      skipCRDs
      timeout
    }
    interval
    kubeConfig {
      secretRef {
        key
        name
      }
    }
    maxHistory
    persistentClient
    postRenderers {
      kustomize {
        images {
          digest
          name
          newName
          newTag
        }
        patches {
          patch
          target {
            annotationSelector
            group
            kind
            labelSelector
            name
            namespace
            version
          }
        }
        patchesJson6902 {
          patch {
            from
            op
            path
          }
          target {
            annotationSelector
            group
            kind
            labelSelector
            name
            namespace
            version
          }
        }
        patchesStrategicMerge
      }
    }
    releaseName
    rollback {
      cleanupOnFail
      disableHooks
      disableWait
      disableWaitForJobs
      force
      recreate
      timeout
    }
    serviceAccountName
    storageNamespace
    suspend
    targetNamespace
    test {
      enable
      ignoreFailures
      timeout
    }
    timeout
    uninstall {
      disableHooks
      disableWait
      keepHistory
      timeout
    }
    upgrade {
      cleanupOnFail
      crds
      disableHooks
      disableOpenAPIValidation
      disableWait
      disableWaitForJobs
      force
      preserveValues
      remediation {
        ignoreTestFailures
        remediateLastFailure
        retries
        strategy
      }
      timeout
    }
    valuesFrom {
      kind
      name
      optional
      targetPath
      valuesKey
    }
    status {
      conditions {
        lastTransitionTime
        message
        observedGeneration
        reason
        status
        type
      }
      failures
      helmChart
      installFailures
      lastAppliedRevision
      lastAttemptedRevision
      lastAttemptedValuesChecksum
      lastHandledReconcileAt
      lastReleaseRevision
      observedGeneration
      upgradeFailures
    }
  }
}
