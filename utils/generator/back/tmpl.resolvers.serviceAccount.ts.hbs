{{#if (eq type 'provide')}}
    {{type}}{{targetGroup}}{{targetShort}}: async (sa, args: object) => {
        const lst = await list{{targetGroup}}{{targetShort}}.{{targetGroup}}{{targetShort}}(sa, {namespace: sa['metadata']['namespace'], ...args})
        return lst.filter(pod=>getByPath(pod, '{{path}}')['serviceAccountName']==sa['metadata']['name'] || getByPath(pod, '{{path}}')['serviceAccount']==sa['metadata']['name'])
    },
{{/if}}
{{#if (eq type 'consume')}}
    {{type}}{{targetGroup}}{{targetShort}}: async (pod, args: object) => {
        const lst = (await list{{targetGroup}}{{targetShort}}.{{targetGroup}}{{targetShort}}(pod, {namespace: pod['metadata']['namespace'], ...args}))
            .filter(sa=>getByPath(pod, '{{path}}')['serviceAccountName']==sa['metadata']['name'] || getByPath(pod, '{{path}}')['serviceAccount']==sa['metadata']['name'])
        if (lst.length<1) return null
        return lst[0]
    },
{{/if}}