import { menuLinksProps } from '../interfaces';
const { RouteRecordRaw } = await import('vue-router')
const { {{ category }}Icon, {{ category }}Title, {{ category }}Desc } = await import('../custom.js');
const linkChildren:Array<menuLinksProps> = [];
const routeChildren:Array<RouteRecordRaw> = [
];
const linkRedirect = {name:'{{ category }}Advices'};
{{#each groups}}
const { route: {{ this.name }}Route, link: {{ this.name }}Link } = await import('./{{ this.name }}')
if (Array.isArray({{ this.name }}Link.children) && {{ this.name }}Link.children.length>0) {
  linkRedirect.name = linkRedirect.name!='{{ ../category }}Advices'?linkRedirect.name:{{ this.name }}Route['redirect']!=undefined?{{ this.name }}Route['redirect'].name:'{{ this.category }}{{ this.name }}Dashboard'
  linkChildren.push({{ this.name }}Link)
  routeChildren.push({{ this.name }}Route)
}
{{/each}}

export const link:menuLinksProps = {
  title: {{ category }}Title, caption: {{ category }}Desc, icon: {{ category }}Icon,
  name: '{{category}}',
  children: linkChildren.length>1?linkChildren:linkChildren.length<1?[]:linkChildren[0].children
}

export const route = {
  path: '{{ lower category }}',
  name: '{{ category }}',
  meta:      {breadcrumb: {{ category }}Title, icon: {{ category }}Icon, ns: false},
  redirect: linkRedirect,
  children: routeChildren
}
export default route
