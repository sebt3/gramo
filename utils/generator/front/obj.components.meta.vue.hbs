<script setup lang="ts">
import MetadataView from '@/components/core/MetadataView.vue';
import { ref, use{{ short }} } from '../../libs/{{ group }}/{{ short }}.js'
import { color{{ short }} } from '../../libs/{{ group }}/custom.js'
const { actionNew, toEdit, actionDelete } = use{{ short }}();
const to=ref({})
withDefaults(defineProps<{model: object, deletor?:any, useActions?:boolean}>(), {
  deletor: ()=>null,
  useActions: false
});
</script>
<template>
  <q-card bordered class="q-ma-sm">
    <q-card-section :class="`bg-${ color{{ short }} } text-grey-4`">
      <div class="text-h6 q-mt-none q-mb-none q-pt-none q-pb-none">{{ short }}
        <q-btn-group push class="float-right text-capitalize shadow-3" v-if="useActions">
          <q-btn icon="edit" @click="toEdit({{#if namespaced}}model.metadata.namespace, {{/if}}model.metadata.name)">
            <q-tooltip>Edit</q-tooltip>
          </q-btn>
          <q-btn icon="delete" @click="actionDelete(deletor, model)">
            <q-tooltip>Delete</q-tooltip>
          </q-btn>
        </q-btn-group>
      </div>
    </q-card-section>
    <q-card-section  v-if="useActions">
      <MetadataView
        :metadata="model.metadata"
        :to="{ name: '{{ group }}{{ short }}Table', params: { {{#if namespaced}}namespace: model.metadata.namespace{{/if}} } }"
        />
    </q-card-section>
    <q-card-section  v-else>
      <MetadataView
        :metadata="model.metadata"
        :to="{ name: '{{ group }}{{ short }}Table', params: { {{#if namespaced}}namespace: model.metadata.namespace{{/if}} } }"
        :nameTo="{ name: '{{ group }}{{ short }}View', params: { {{#if namespaced}}namespace: model.metadata.namespace,{{/if}} name: model.metadata.name } }"
        />
    </q-card-section>
  </q-card>
</template>
